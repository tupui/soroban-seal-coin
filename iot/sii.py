import pandas as pd


MEDIAN_EXTENT = [
    13823,
    13886,
    13884,
    13925,
    14036,
    14139,
    14188,
    14303,
    14310,
    14240,
    14265,
    14332,
    14398,
    14401,
    14449,
    14476,
    14526,
    14602,
    14638,
    14715,
    14698,
    14680,
    14731,
    14717,
    14773,
    14783,
    14803,
    14880,
    14892,
    14954,
    14963,
    15040,
    15076,
    15147,
    15171,
    15222,
    15173,
    15204,
    15229,
    15266,
    15261,
    15301,
    15303,
    15317,
    15364,
    15382,
    15385,
    15420,
    15420,
    15472,
    15475,
    15483,
    15467,
    15466,
    15498,
    15496,
    15527,
    15542,
    15548,
    15556,
    15558,
    15478,
    15478,
    15449,
    15439,
    15444,
    15532,
    15483,
    15487,
    15489,
    15474,
    15538,
    15511,
    15499,
    15496,
    15483,
    15487,
    15494,
    15454,
    15451,
    15402,
    15472,
    15489,
    15473,
    15453,
    15387,
    15374,
    15389,
    15391,
    15397,
    15313,
    15270,
    15197,
    15128,
    15111,
    15097,
    15090,
    15064,
    15002,
    14890,
    14859,
    14749,
    14711,
    14701,
    14658,
    14649,
    14617,
    14602,
    14561,
    14550,
    14523,
    14503,
    14477,
    14443,
    14425,
    14345,
    14298,
    14256,
    14187,
    14109,
    14036,
    13922,
    13874,
    13862,
    13786,
    13778,
    13691,
    13663,
    13594,
    13534,
    13457,
    13412,
    13350,
    13312,
    13286,
    13227,
    13186,
    13150,
    13144,
    13075,
    13059,
    13024,
    12953,
    12953,
    12911,
    12860,
    12818,
    12791,
    12767,
    12733,
    12649,
    12556,
    12462,
    12435,
    12394,
    12339,
    12279,
    12235,
    12222,
    12216,
    12156,
    12088,
    12067,
    11999,
    11976,
    11890,
    11815,
    11714,
    11662,
    11590,
    11543,
    11471,
    11398,
    11376,
    11342,
    11283,
    11197,
    11134,
    11093,
    11010,
    10900,
    10830,
    10668,
    10617,
    10555,
    10477,
    10318,
    10216,
    10175,
    10106,
    10005,
    9889,
    9819,
    9708,
    9657,
    9526,
    9488,
    9374,
    9302,
    9214,
    9182,
    9064,
    9012,
    8939,
    8876,
    8808,
    8737,
    8654,
    8535,
    8448,
    8357,
    8306,
    8223,
    8138,
    8032,
    8007,
    8007,
    7943,
    7855,
    7787,
    7739,
    7682,
    7606,
    7543,
    7467,
    7439,
    7356,
    7303,
    7255,
    7208,
    7222,
    7169,
    7175,
    7150,
    7088,
    7012,
    6932,
    6864,
    6845,
    6815,
    6768,
    6757,
    6746,
    6688,
    6648,
    6606,
    6595,
    6542,
    6507,
    6496,
    6474,
    6467,
    6463,
    6419,
    6404,
    6386,
    6354,
    6345,
    6305,
    6331,
    6335,
    6387,
    6412,
    6451,
    6487,
    6506,
    6528,
    6635,
    6720,
    6760,
    6793,
    6876,
    6931,
    7165,
    7221,
    7257,
    7370,
    7532,
    7645,
    7736,
    7826,
    7906,
    8007,
    8036,
    8203,
    8281,
    8309,
    8394,
    8504,
    8628,
    8693,
    8733,
    8738,
    8839,
    8953,
    9096,
    9160,
    9205,
    9280,
    9386,
    9512,
    9615,
    9664,
    9721,
    9837,
    9864,
    9918,
    9994,
    10052,
    10105,
    10120,
    10194,
    10315,
    10347,
    10418,
    10554,
    10592,
    10709,
    10732,
    10824,
    10927,
    10998,
    11037,
    11096,
    11087,
    11103,
    11142,
    11230,
    11329,
    11489,
    11632,
    11733,
    11776,
    11817,
    11955,
    12023,
    12110,
    12217,
    12300,
    12331,
    12377,
    12462,
    12517,
    12526,
    12580,
    12587,
    12648,
    12766,
    12878,
    12969,
    12944,
    13025,
    13083,
    13161,
    13194,
    13220,
    13300,
    13346,
    13465,
    13541,
    13480,
    13561,
    13546,
    13653,
    13702,
    13789,
]


def daily_sea_ice_extent() -> tuple[int, float]:
    """Daily sea ice extent.

    Returns the last current day of the year and the value of the ice extent.
    """
    data = pd.read_csv(  # noqa
        "https://noaadata.apps.nsidc.org/NOAA/G02135/north/daily/data/N_seaice_extent_daily_v3.0.csv",
        header=0,
        skiprows=[1],
        parse_dates=[["Year", " Month", " Day"]],
    )
    data.columns = ["date", "extent", "missing", "source"]
    data["date"] = pd.to_datetime(data["date"])
    last_extent = data.iloc[-1]

    return last_extent["date"].dayofyear, last_extent["extent"]
